<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: AArch64PromoteConstant.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4d9c1978b5f07b6adb33a8870a898946.html">llvm3.6</a></li><li class="navelem"><a class="el" href="dir_5fa7ecd8d95c317b32615506984470d8.html">lib</a></li><li class="navelem"><a class="el" href="dir_e05b01359e968234de0369341286fe1b.html">Target</a></li><li class="navelem"><a class="el" href="dir_f6f34bb863c83be24569949661875da3.html">AArch64</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">AArch64PromoteConstant.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="AArch64_8h_source.html">AArch64.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="SmallSet_8h_source.html">llvm/ADT/SmallSet.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Dominators_8h_source.html">llvm/IR/Dominators.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="GlobalVariable_8h_source.html">llvm/IR/GlobalVariable.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="IRBuilder_8h_source.html">llvm/IR/IRBuilder.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="InlineAsm_8h_source.html">llvm/IR/InlineAsm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="IntrinsicInst_8h_source.html">llvm/IR/IntrinsicInst.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Module_8h_source.html">llvm/IR/Module.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for AArch64PromoteConstant.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="AArch64PromoteConstant_8cpp__incl.png" border="0" usemap="#AArch64PromoteConstant_8cpp" alt=""/></div>
<map name="AArch64PromoteConstant_8cpp" id="AArch64PromoteConstant_8cpp">
<area shape="rect" id="node2" href="AArch64_8h.html" title="AArch64.h" alt="" coords="131,379,219,405"/><area shape="rect" id="node7" href="Pass_8h.html" title="llvm/Pass.h" alt="" coords="1034,535,1127,562"/><area shape="rect" id="node10" href="DenseMap_8h.html" title="llvm/ADT/DenseMap.h" alt="" coords="2074,379,2236,405"/><area shape="rect" id="node23" href="SmallSet_8h.html" title="llvm/ADT/SmallSet.h" alt="" coords="3428,379,3580,405"/><area shape="rect" id="node26" href="SmallVector_8h.html" title="llvm/ADT/SmallVector.h" alt="" coords="2708,453,2879,480"/><area shape="rect" id="node31" href="Statistic_8h.html" title="llvm/ADT/Statistic.h" alt="" coords="398,453,544,480"/><area shape="rect" id="node34" href="Constants_8h.html" title="llvm/IR/Constants.h" alt="" coords="2752,155,2896,181"/><area shape="rect" id="node41" href="Dominators_8h.html" title="llvm/IR/Dominators.h" alt="" coords="1960,304,2115,331"/><area shape="rect" id="node42" href="Function_8h.html" title="llvm/IR/Function.h" alt="" coords="853,379,985,405"/><area shape="rect" id="node43" href="GlobalVariable_8h.html" title="llvm/IR/GlobalVariable.h" alt="" coords="956,155,1127,181"/><area shape="rect" id="node44" href="IRBuilder_8h.html" title="llvm/IR/IRBuilder.h" alt="" coords="3204,229,3338,256"/><area shape="rect" id="node45" href="Instructions_8h.html" title="llvm/IR/Instructions.h" alt="" coords="2269,304,2422,331"/><area shape="rect" id="node46" href="InlineAsm_8h.html" title="llvm/IR/InlineAsm.h" alt="" coords="2646,80,2787,107"/><area shape="rect" id="node47" href="IntrinsicInst_8h.html" title="llvm/IR/IntrinsicInst.h" alt="" coords="2126,80,2277,107"/><area shape="rect" id="node48" href="Module_8h.html" title="llvm/IR/Module.h" alt="" coords="756,80,882,107"/><area shape="rect" id="node49" href="CommandLine_8h.html" title="llvm/Support/CommandLine.h" alt="" coords="2432,379,2644,405"/><area shape="rect" id="node50" href="Debug_8h.html" title="llvm/Support/Debug.h" alt="" coords="3413,80,3574,107"/><area shape="rect" id="node3" href="AArch64MCTargetDesc_8h.html" title="MCTargetDesc/AArch64MCTarget\lDesc.h" alt="" coords="32,528,262,569"/><area shape="rect" id="node5" href="AArch64BaseInfo_8h.html" title="Utils/AArch64BaseInfo.h" alt="" coords="88,453,262,480"/><area shape="rect" id="node6" href="Target_2TargetMachine_8h.html" title="llvm/Target/TargetMachine.h" alt="" coords="1054,453,1253,480"/><area shape="rect" id="node8" href="Compiler_8h.html" title="llvm/Support/Compiler.h" alt="" coords="1926,617,2101,644"/><area shape="rect" id="node11" href="DenseMapInfo_8h.html" title="llvm/ADT/DenseMapInfo.h" alt="" coords="1530,453,1716,480"/><area shape="rect" id="node12" href="PointerLikeTypeTraits_8h.html" title="llvm/Support/PointerLike\lTypeTraits.h" alt="" coords="1354,528,1532,569"/><area shape="rect" id="node13" href="type__traits_8h.html" title="llvm/Support/type_traits.h" alt="" coords="1556,535,1743,562"/><area shape="rect" id="node15" href="AlignOf_8h.html" title="llvm/Support/AlignOf.h" alt="" coords="2423,535,2586,562"/><area shape="rect" id="node17" href="MathExtras_8h.html" title="llvm/Support/MathExtras.h" alt="" coords="3102,535,3293,562"/><area shape="rect" id="node24" href="None_8h.html" title="llvm/ADT/None.h" alt="" coords="3322,453,3450,480"/><area shape="rect" id="node25" href="SmallPtrSet_8h.html" title="llvm/ADT/SmallPtrSet.h" alt="" coords="2127,453,2298,480"/><area shape="rect" id="node27" href="iterator__range_8h.html" title="llvm/ADT/iterator_range.h" alt="" coords="773,535,958,562"/><area shape="rect" id="node32" href="Atomic_8h.html" title="llvm/Support/Atomic.h" alt="" coords="389,535,553,562"/><area shape="rect" id="node33" href="Valgrind_8h.html" title="llvm/Support/Valgrind.h" alt="" coords="578,535,748,562"/><area shape="rect" id="node35" href="APFloat_8h.html" title="This file declares a class to represent arbitrary precision floating point values and provide a varie..." alt="" coords="2984,229,3126,256"/><area shape="rect" id="node36" href="APInt_8h.html" title="This file implements a class to represent arbitrary precision integral constant values and operations..." alt="" coords="3002,304,3129,331"/><area shape="rect" id="node37" href="ArrayRef_8h.html" title="llvm/ADT/ArrayRef.h" alt="" coords="3258,379,3404,405"/><area shape="rect" id="node38" href="Constant_8h.html" title="llvm/IR/Constant.h" alt="" coords="2756,229,2893,256"/><area shape="rect" id="node39" href="DerivedTypes_8h.html" title="llvm/IR/DerivedTypes.h" alt="" coords="1259,379,1422,405"/><area shape="rect" id="node40" href="OperandTraits_8h.html" title="llvm/IR/OperandTraits.h" alt="" coords="2353,229,2520,256"/></map>
</div>
</div>
<p><a href="AArch64PromoteConstant_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacellvm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html">llvm</a></td></tr>
<tr class="memdesc:namespacellvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of target independent CodeGen pass IDs. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;aarch64-promote-<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a789a77040364791aac1e868755c67370"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a789a77040364791aac1e868755c67370">STATISTIC</a> (NumPromoted,&quot;Number of promoted constants&quot;)</td></tr>
<tr class="separator:a789a77040364791aac1e868755c67370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016d1b5dbb0f284fcd1ef748e05e015c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a016d1b5dbb0f284fcd1ef748e05e015c">STATISTIC</a> (NumPromotedUses,&quot;Number of promoted constants uses&quot;)</td></tr>
<tr class="separator:a016d1b5dbb0f284fcd1ef748e05e015c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f7820c2baf31ef6792320e105af10d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html#a31f7820c2baf31ef6792320e105af10d">llvm::initializeAArch64PromoteConstantPass</a> (<a class="el" href="classllvm_1_1PassRegistry.html">PassRegistry</a> &amp;)</td></tr>
<tr class="separator:a31f7820c2baf31ef6792320e105af10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71f36fafddaf8987f12b6a194924f6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#ab71f36fafddaf8987f12b6a194924f6a">INITIALIZE_PASS_BEGIN</a> (AArch64PromoteConstant,&quot;aarch64-promote-<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&quot;,&quot;AArch64 Promote <a class="el" href="classllvm_1_1Constant.html">Constant</a> <a class="el" href="classllvm_1_1Pass.html">Pass</a>&quot;, false, <a class="el" href="SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>) <a class="el" href="JumpInstrTables_8cpp.html#afdca0f03e5390cb037c356a5e4ab4363">INITIALIZE_PASS_END</a>(AArch64PromoteConstant</td></tr>
<tr class="separator:ab71f36fafddaf8987f12b6a194924f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a93639bd72c9cc80cf001e17599ff87"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a1a93639bd72c9cc80cf001e17599ff87">isConstantUsingVectorTy</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Type.html">Type</a> *CstTy)</td></tr>
<tr class="memdesc:a1a93639bd72c9cc80cf001e17599ff87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given type uses a vector type.  <a href="#a1a93639bd72c9cc80cf001e17599ff87">More...</a><br/></td></tr>
<tr class="separator:a1a93639bd72c9cc80cf001e17599ff87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff43b1c529b1af47195587ca0090f7ec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#aff43b1c529b1af47195587ca0090f7ec">shouldConvertUse</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Constant.html">Constant</a> *Cst, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *Instr, <a class="el" href="classunsigned.html">unsigned</a> OpIdx)</td></tr>
<tr class="separator:aff43b1c529b1af47195587ca0090f7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38455843d35b2d0d2499115c04c4099c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a38455843d35b2d0d2499115c04c4099c">shouldConvert</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Constant.html">Constant</a> *Cst)</td></tr>
<tr class="separator:a38455843d35b2d0d2499115c04c4099c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a54f02704576a9c6df60f23b0b625b550"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a54f02704576a9c6df60f23b0b625b550">Stress</a> (&quot;aarch64-stress-promote-<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Promote all vector constants&quot;))</td></tr>
<tr class="separator:a54f02704576a9c6df60f23b0b625b550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f8350fecae261c25be85d38b451bff"><td class="memItemLeft" align="right" valign="top">aarch64 promote&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="separator:a90f8350fecae261c25be85d38b451bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099cf45c11df5059934a293e57614b7c"><td class="memItemLeft" align="right" valign="top">aarch64 promote AArch64 <br class="typebreak"/>
Promote <a class="el" href="classllvm_1_1Constant.html">Constant</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a099cf45c11df5059934a293e57614b7c">Pass</a></td></tr>
<tr class="separator:a099cf45c11df5059934a293e57614b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ff0978cee670022cdc8743945e0eae"><td class="memItemLeft" align="right" valign="top">aarch64 promote AArch64 <br class="typebreak"/>
Promote <a class="el" href="classllvm_1_1Constant.html">Constant</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AArch64PromoteConstant_8cpp.html#a60ff0978cee670022cdc8743945e0eae">false</a></td></tr>
<tr class="separator:a60ff0978cee670022cdc8743945e0eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;aarch64-promote-<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00043">43</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab71f36fafddaf8987f12b6a194924f6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">AArch64PromoteConstant&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;aarch64-promote-<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;AArch64 Promote <a class="el" href="classllvm_1_1Constant.html">Constant</a> <a class="el" href="classllvm_1_1Pass.html">Pass</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SimplifyInstructions_8cpp.html#a6dd713bd88673625bb181528a61bdc85">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a93639bd72c9cc80cf001e17599ff87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> isConstantUsingVectorTy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Type.html">Type</a> *&#160;</td>
          <td class="paramname"><em>CstTy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the given type uses a vector type. </p>

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00221">221</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

<p>References <a class="el" href="Type_8h_source.html#l00361">llvm::Type::getArrayElementType()</a>, <a class="el" href="Type_8cpp_source.html#l00200">llvm::Type::getStructElementType()</a>, <a class="el" href="Type_8cpp_source.html#l00196">llvm::Type::getStructNumElements()</a>, <a class="el" href="Type_8h_source.html#l00213">llvm::Type::isArrayTy()</a>, <a class="el" href="Type_8h_source.html#l00209">llvm::Type::isStructTy()</a>, and <a class="el" href="Type_8h_source.html#l00226">llvm::Type::isVectorTy()</a>.</p>

<p>Referenced by <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00308">shouldConvert()</a>.</p>

</div>
</div>
<a class="anchor" id="a38455843d35b2d0d2499115c04c4099c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> shouldConvert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>Cst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if the given Cst should be converted into a load of a global variable initialized with Cst. A constant should be converted if it is likely that the materialization of the constant will be tricky. Thus, we give up on zero or undef values.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Currently, accept only vector related types. Also we give up on all simple vector type to keep the existing behavior. Otherwise, we should push here all the check of the lowering of BUILD_VECTOR. By giving up, we lose the potential benefit of merging constant via global merge and the fact that the same constant is stored only once with this method (versus, as many function that uses the constant for the regular approach, even for float). Again, the simplest solution would be to promote every constant and rematerialize them when they are actually cheap to create. </dd></dl>

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00308">308</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

<p>References <a class="el" href="Value_8h_source.html#l00222">llvm::Value::getType()</a>, <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00221">isConstantUsingVectorTy()</a>, <a class="el" href="Type_8h_source.html#l00226">llvm::Type::isVectorTy()</a>, <a class="el" href="Constants_8cpp_source.html#l00066">llvm::Constant::isZeroValue()</a>, and <a class="el" href="AArch64PromoteConstant_8cpp.html#a54f02704576a9c6df60f23b0b625b550">Stress</a>.</p>

</div>
</div>
<a class="anchor" id="aff43b1c529b1af47195587ca0090f7ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> shouldConvertUse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Constant.html">Constant</a> *&#160;</td>
          <td class="paramname"><em>Cst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>Instr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>OpIdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if the given use (Instruction + OpIdx) of Cst should be converted into a load of a global variable initialized with Cst. A use should be converted if it is legal to do so. For instance, it is not legal to turn the mask operand of a shuffle vector into a load of a global variable. </p>

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00239">239</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

<p>References <a class="el" href="Casting_8h_source.html#l00285">llvm::dyn_cast()</a>, and <a class="el" href="Instructions_8h_source.html#l01475">llvm::CallInst::getCalledValue()</a>.</p>

</div>
</div>
<a class="anchor" id="a789a77040364791aac1e868755c67370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumPromoted&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of promoted constants&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a016d1b5dbb0f284fcd1ef748e05e015c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumPromotedUses&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of promoted constants uses&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a90f8350fecae261c25be85d38b451bff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aarch64 promote const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00213">213</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a60ff0978cee670022cdc8743945e0eae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aarch64 promote AArch64 Promote <a class="el" href="classllvm_1_1Constant.html">Constant</a> false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00213">213</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a099cf45c11df5059934a293e57614b7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aarch64 promote AArch64 Promote <a class="el" href="classllvm_1_1Constant.html">Constant</a> <a class="el" href="classllvm_1_1Pass.html">Pass</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00213">213</a> of file <a class="el" href="AArch64PromoteConstant_8cpp_source.html">AArch64PromoteConstant.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a54f02704576a9c6df60f23b0b625b550"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="classbool.html">bool</a>&gt; Stress(&quot;aarch64-stress-promote-<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&quot;, cl::Hidden, <a class="el" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(&quot;Promote all vector constants&quot;))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="AArch64PromoteConstant_8cpp_source.html#l00308">shouldConvert()</a>.</p>

</div>
</div>
</div><!-- contents -->
<hr>
<p class="footer">
Generated on Tue Dec 8 2015 00:59:46 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.6</a><br>
Copyright &copy; 2003-2014 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
