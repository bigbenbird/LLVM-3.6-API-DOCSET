<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: StackSlotColoring.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4d9c1978b5f07b6adb33a8870a898946.html">llvm3.6</a></li><li class="navelem"><a class="el" href="dir_5fa7ecd8d95c317b32615506984470d8.html">lib</a></li><li class="navelem"><a class="el" href="dir_9d1c68ef0dc704dcdd9f5558cbff727e.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">StackSlotColoring.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="StackSlotColoring_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- StackSlotColoring.cpp - Stack slot coloring pass. -----------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements the stack slot coloring pass.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2Passes_8h.html">llvm/CodeGen/Passes.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervalAnalysis_8h.html">llvm/CodeGen/LiveIntervalAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveStackAnalysis_8h.html">llvm/CodeGen/LiveStackAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBlockFrequencyInfo_8h.html">llvm/CodeGen/MachineBlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PseudoSourceValue_8h.html">llvm/CodeGen/PseudoSourceValue.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/Target/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using namespace </span>llvm;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="StackSlotColoring_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   35</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;stackslotcoloring&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="StackSlotColoring_8cpp.html#a7cb6c9ef40b7186fe948fc42672b6620">DisableSharing</a>(<span class="stringliteral">&quot;no-stack-slot-sharing&quot;</span>,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;             <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;             <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Suppress slot sharing during stack coloring&quot;</span>));</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="StackSlotColoring_8cpp.html#a1c66e3abaf79bdc69ccaca019f60350a">DCELimit</a>(<span class="stringliteral">&quot;ssc-dce-limit&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<a class="code" href="StackSlotColoring_8cpp.html#a67e31fa58a9a1add0665114c00b3020d">STATISTIC</a>(NumEliminated, <span class="stringliteral">&quot;Number of stack slots eliminated due to coloring&quot;</span>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<a class="code" href="StackSlotColoring_8cpp.html#a67e31fa58a9a1add0665114c00b3020d">STATISTIC</a>(NumDead,       <span class="stringliteral">&quot;Number of trivially dead stack accesses eliminated&quot;</span>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keyword">class </span>StackSlotColoring : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classllvm_1_1LiveStacks.html">LiveStacks</a>* <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a>  *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *MBFI;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// SSIntervals - Spill slot intervals.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    std::vector&lt;LiveInterval*&gt; SSIntervals;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// SSRefs - Keep a list of MachineMemOperands for each spill slot.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// MachineMemOperands can be shared between instructions, so we need</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// to be careful that renames like [FI0, FI1] -&gt; [FI1, FI2] do not</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// become FI0 -&gt; FI1 -&gt; FI2.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SmallVector&lt;MachineMemOperand *, 8&gt;</a>, 16&gt; SSRefs;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// OrigAlignments - Alignments of stack objects before coloring.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 16&gt;</a> OrigAlignments;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// OrigSizes - Sizess of stack objects before coloring.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 16&gt;</a> OrigSizes;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// AllColors - If index is set, it&#39;s a spill slot, i.e. color.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// FIXME: This assumes PEI locate spill slot with smaller indices</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// closest to stack pointer / frame pointer. Therefore, smaller</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// index == better color.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> AllColors;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// NextColor - Next &quot;color&quot; that&#39;s not yet used.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">int</span> NextColor;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// UsedColors - &quot;Colors&quot; that have been assigned.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> UsedColors;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// Assignments - Color to intervals mapping.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SmallVector&lt;LiveInterval*,4&gt;</a>, 16&gt; Assignments;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="ARMAsmParser_8cpp.html#afa41b5544267a2f619f358964a81c0e9">ID</a>; <span class="comment">// Pass identification</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    StackSlotColoring() :</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(<a class="code" href="ARMAsmParser_8cpp.html#afa41b5544267a2f619f358964a81c0e9">ID</a>), NextColor(-1) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="namespacellvm.html#a0771fa33eec586aafe64347be2a7a7a7">initializeStackSlotColoringPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>&gt;();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>&gt;();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LiveStacks.html">LiveStacks</a>&gt;();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>&gt;();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>&gt;();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a40970e5d42646fb2d9aa5f7a2c879516">addPreservedID</a>(<a class="code" href="namespacellvm.html#a5a36a0d02a1629e4c1c8c6c587d01e5b">MachineDominatorsID</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">void</span> InitializeSlots();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">void</span> ScanForSpillSlotRefs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">bool</span> OverlapWithAssignments(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li, <span class="keywordtype">int</span> <a class="code" href="AArch64A57FPLoadBalancing_8cpp.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">int</span> ColorSlot(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">bool</span> ColorSlots(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">void</span> RewriteInstruction(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">MI</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;int&gt;</a> &amp;SlotMapping,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                            <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">bool</span> RemoveDeadStores(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>* MBB);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  };</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keywordtype">char</span> <a class="code" href="ARMAsmParser_8cpp.html#afa41b5544267a2f619f358964a81c0e9">StackSlotColoring::ID</a> = 0;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="namespacellvm.html#a947df27369e5b0e5d44b3109f1cc592d">  117</a></span>&#160;<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm.html#a947df27369e5b0e5d44b3109f1cc592d">llvm::StackSlotColoringID</a> = <a class="code" href="ARMAsmParser_8cpp.html#afa41b5544267a2f619f358964a81c0e9">StackSlotColoring::ID</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<a class="code" href="StackSlotColoring_8cpp.html#a5bb62a0dcbcb6bf965c89b53388f2781">INITIALIZE_PASS_BEGIN</a>(StackSlotColoring, <span class="stringliteral">&quot;stack-slot-coloring&quot;</span>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="stringliteral">&quot;Stack Slot Coloring&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<a class="code" href="ForwardControlFlowIntegrity_8cpp.html#aa6d14665c3f65bf28901537cc0fc8d71">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<a class="code" href="ForwardControlFlowIntegrity_8cpp.html#aa6d14665c3f65bf28901537cc0fc8d71">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LiveStacks.html">LiveStacks</a>)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<a class="code" href="ForwardControlFlowIntegrity_8cpp.html#aa6d14665c3f65bf28901537cc0fc8d71">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>)</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="StackSlotColoring_8cpp.html#a2e21fef40f1c69118c9aaef581e16b61">  124</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(StackSlotColoring, &quot;stack-slot-<a class="code" href="StackSlotColoring_8cpp.html#a2f63b9b768c72478d35a5dfaa6d0eb0f">coloring</a>&quot;,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                &quot;Stack Slot <a class="code" href="StackSlotColoring_8cpp.html#a2ffaaa69db2b5b967be23bc0a7013c3d">Coloring</a>&quot;, <a class="code" href="StackSlotColoring_8cpp.html#a2e21fef40f1c69118c9aaef581e16b61">false</a>, false)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="namespacefalse.html">  127</a></span>&#160;namespace {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// IntervalSorter - Comparison predicate that sort live intervals by</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// their weight.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structfalse_1_1IntervalSorter.html">  130</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structfalse_1_1IntervalSorter.html">IntervalSorter</a> {</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structfalse_1_1IntervalSorter.html#a3a52b772e4e852d9bc322d4af0043a8d">  131</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structfalse_1_1IntervalSorter.html#a3a52b772e4e852d9bc322d4af0043a8d">operator()</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a>* LHS, <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a>* RHS)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">return</span> LHS-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a> &gt; RHS-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  };</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/// ScanForSpillSlotRefs - Scan all the machine instructions for spill slot</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/// references and update spill slot weights.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> StackSlotColoring::ScanForSpillSlotRefs(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  SSRefs.resize(MFI-&gt;getObjectIndexEnd());</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// FIXME: Need the equivalent of MachineRegisterInfo for frameindex operands.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> MBBI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>(), E = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">end</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;       MBBI != E; ++MBBI) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = &amp;*MBBI;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MII = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), EE = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;         MII != EE; ++MII) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">MI</a> = &amp;*MII;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(i);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>())</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordtype">int</span> FI = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span> (FI &lt; 0)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;hasInterval(FI))</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;li = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;getInterval(FI);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">isDebugValue</a>())</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;          li.<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a> += <a class="code" href="classllvm_1_1LiveIntervals.html#a6c36aa282acc2209669d0206e72f199a">LiveIntervals::getSpillWeight</a>(<span class="keyword">false</span>, <span class="keyword">true</span>, MBFI, MI);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> MMOI = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>(),</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;           EE = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>(); MMOI != EE; ++MMOI) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO = *MMOI;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1FixedStackPseudoSourceValue.html">FixedStackPseudoSourceValue</a> *FSV =</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            dyn_cast_or_null&lt;FixedStackPseudoSourceValue&gt;(</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                MMO-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a66d7167a2705926cfceaa501dc2c9cbe">getPseudoValue</a>())) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          <span class="keywordtype">int</span> FI = FSV-&gt;getFrameIndex();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;          <span class="keywordflow">if</span> (FI &gt;= 0)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            SSRefs[FI].push_back(MMO);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">/// InitializeSlots - Process all spill stack slot liveintervals and add them</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// to a sorted (by weight) list.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> StackSlotColoring::InitializeSlots() {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordtype">int</span> LastFI = MFI-&gt;getObjectIndexEnd();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  OrigAlignments.resize(LastFI);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  OrigSizes.resize(LastFI);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  AllColors.resize(LastFI);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  UsedColors.resize(LastFI);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  Assignments.resize(LastFI);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// Gather all spill slots into a list.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Spill slot intervals:\n&quot;</span>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveStacks.html#a42a122c825a90b3f8bdd0bb3201a52d9">LiveStacks::iterator</a> i = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;begin(), e = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;end(); i != e; ++i) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;li = i-&gt;second;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a0a9d6d4967ece0926c9274409adea1b1">dump</a>());</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">int</span> FI = <a class="code" href="classllvm_1_1TargetRegisterInfo.html#a419e521c9378d4d7b86fa6f2d8e440f8">TargetRegisterInfo::stackSlot2Index</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (MFI-&gt;isDeadObjectIndex(FI))</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    SSIntervals.push_back(&amp;li);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    OrigAlignments[FI] = MFI-&gt;getObjectAlignment(FI);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    OrigSizes[FI]      = MFI-&gt;getObjectSize(FI);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    AllColors.set(FI);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// Sort them by weight.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  std::stable_sort(SSIntervals.begin(), SSIntervals.end(), IntervalSorter());</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Get first &quot;color&quot;.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  NextColor = AllColors.find_first();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// OverlapWithAssignments - Return true if LiveInterval overlaps with any</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/// LiveIntervals that have already been assigned to the specified color.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;StackSlotColoring::OverlapWithAssignments(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li, <span class="keywordtype">int</span> <a class="code" href="AArch64A57FPLoadBalancing_8cpp.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;LiveInterval *&gt;</a> &amp;OtherLIs = Assignments[<a class="code" href="AArch64A57FPLoadBalancing_8cpp.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>];</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = OtherLIs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++i) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *OtherLI = OtherLIs[i];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (OtherLI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a1ee341130300e56248229610462773ae">overlaps</a>(*li))</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/// ColorSlot - Assign a &quot;color&quot; (stack slot) to the specified stack slot.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span><span class="keywordtype">int</span> StackSlotColoring::ColorSlot(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">int</span> Color = -1;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">bool</span> Share = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="StackSlotColoring_8cpp.html#a7cb6c9ef40b7186fe948fc42672b6620">DisableSharing</a>) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// Check if it&#39;s possible to reuse any of the used colors.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    Color = UsedColors.find_first();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">while</span> (Color != -1) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">if</span> (!OverlapWithAssignments(li, Color)) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        Share = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        ++NumEliminated;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      Color = UsedColors.find_next(Color);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// Assign it to the first available color (assumed to be the best) if it&#39;s</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// not possible to share a used color with other objects.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> (!Share) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(NextColor != -1 &amp;&amp; <span class="stringliteral">&quot;No more spill slots?&quot;</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    Color = NextColor;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    UsedColors.set(Color);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    NextColor = AllColors.find_next(NextColor);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// Record the assignment.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  Assignments[<a class="code" href="AArch64A57FPLoadBalancing_8cpp.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>].push_back(li);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordtype">int</span> FI = <a class="code" href="classllvm_1_1TargetRegisterInfo.html#a419e521c9378d4d7b86fa6f2d8e440f8">TargetRegisterInfo::stackSlot2Index</a>(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Assigning fi#&quot;</span> &lt;&lt; FI &lt;&lt; <span class="stringliteral">&quot; to fi#&quot;</span> &lt;&lt; Color &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Change size and alignment of the allocated slot. If there are multiple</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// objects sharing the same slot, then make sure the size and alignment</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// are large enough for all.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="AArch64ISelLowering_8cpp.html#a36d3f1f9ae335b43c09bf8805c25e192">Align</a> = OrigAlignments[FI];</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> (!Share || Align &gt; MFI-&gt;getObjectAlignment(Color))</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    MFI-&gt;setObjectAlignment(Color, Align);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  int64_t Size = OrigSizes[FI];</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (!Share || Size &gt; MFI-&gt;getObjectSize(Color))</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    MFI-&gt;setObjectSize(Color, Size);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="AArch64A57FPLoadBalancing_8cpp.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/// Colorslots - Color all spill stack slots and rewrite all frameindex machine</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">/// operands in the function.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> StackSlotColoring::ColorSlots(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">unsigned</span> NumObjs = MFI-&gt;getObjectIndexEnd();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> SlotMapping(NumObjs, -1);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;float, 16&gt;</a> SlotWeights(NumObjs, 0.0);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SmallVector&lt;int, 4&gt;</a>, 16&gt; RevMap(NumObjs);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> UsedColors(NumObjs);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Color spill slot intervals:\n&quot;</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = SSIntervals.size(); i != e; ++i) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li = SSIntervals[i];</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">int</span> SS = <a class="code" href="classllvm_1_1TargetRegisterInfo.html#a419e521c9378d4d7b86fa6f2d8e440f8">TargetRegisterInfo::stackSlot2Index</a>(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">int</span> NewSS = ColorSlot(li);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a>(NewSS &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;Stack coloring failed?&quot;</span>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    SlotMapping[SS] = NewSS;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    RevMap[NewSS].push_back(SS);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    SlotWeights[NewSS] += li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    UsedColors.set(NewSS);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    Changed |= (SS != NewSS);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\nSpill slots after coloring:\n&quot;</span>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = SSIntervals.size(); i != e; ++i) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li = SSIntervals[i];</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">int</span> SS = <a class="code" href="classllvm_1_1TargetRegisterInfo.html#a419e521c9378d4d7b86fa6f2d8e440f8">TargetRegisterInfo::stackSlot2Index</a>(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a> = SlotWeights[SS];</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// Sort them by new weight.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  std::stable_sort(SSIntervals.begin(), SSIntervals.end(), IntervalSorter());</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = SSIntervals.size(); i != e; ++i)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(SSIntervals[i]-&gt;<a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">dump</a>());</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span> (!Changed)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// Rewrite all MachineMemOperands.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> SS = 0, SE = SSRefs.size(); SS != SE; ++SS) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">int</span> NewFI = SlotMapping[SS];</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (NewFI == -1 || (NewFI == (<span class="keywordtype">int</span>)SS))</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1PseudoSourceValue.html">PseudoSourceValue</a> *NewSV = <a class="code" href="classllvm_1_1PseudoSourceValue.html#a6e173b7f891039e729a953bfa7146908">PseudoSourceValue::getFixedStack</a>(NewFI);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineMemOperand *&gt;</a> &amp;RefMMOs = SSRefs[SS];</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = RefMMOs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++i)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      RefMMOs[i]-&gt;setValue(NewSV);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// Rewrite all MO_FrameIndex operands.  Look for dead stores.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> MBBI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>(), E = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">end</a>();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;       MBBI != E; ++MBBI) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = &amp;*MBBI;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MII = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), EE = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         MII != EE; ++MII)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      RewriteInstruction(MII, SlotMapping, MF);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    RemoveDeadStores(MBB);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// Delete unused stack slots.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">while</span> (NextColor != -1) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Removing unused stack object fi#&quot;</span> &lt;&lt; NextColor &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    MFI-&gt;RemoveStackObject(NextColor);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    NextColor = AllColors.find_next(NextColor);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">/// RewriteInstruction - Rewrite specified instruction by replacing references</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">/// to old frame index with new one.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> StackSlotColoring::RewriteInstruction(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;int&gt;</a> &amp;SlotMapping,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                           <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// Update the operands.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, ee = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); i != ee; ++i) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(i);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>())</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordtype">int</span> OldFI = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (OldFI &lt; 0)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">int</span> NewFI = SlotMapping[OldFI];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (NewFI == -1 || NewFI == OldFI)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    MO.<a class="code" href="classllvm_1_1MachineOperand.html#aebc99c3c37896879abad49e7254a2fb8">setIndex</a>(NewFI);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// The MachineMemOperands have already been updated.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">/// RemoveDeadStores - Scan through a basic block and look for loads followed</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/// by stores.  If they&#39;re both using the same stack slot, then the store is</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/// definitely dead.  This could obviously be much more aggressive (consider</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">/// pairs with instructions between them), but such extensions might have a</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">/// considerable compile time impact.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> StackSlotColoring::RemoveDeadStores(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>* MBB) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// FIXME: This could be much more aggressive, but we need to investigate</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// the compile time impact of doing so.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineInstr*, 4&gt;</a> toErase;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(), E = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="StackSlotColoring_8cpp.html#a1c66e3abaf79bdc69ccaca019f60350a">DCELimit</a> != -1 &amp;&amp; (<span class="keywordtype">int</span>)NumDead &gt;= <a class="code" href="StackSlotColoring_8cpp.html#a1c66e3abaf79bdc69ccaca019f60350a">DCELimit</a>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span> FirstSS, SecondSS;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;isStackSlotCopy(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, FirstSS, SecondSS) &amp;&amp;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        FirstSS == SecondSS &amp;&amp;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        FirstSS != -1) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      ++NumDead;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      toErase.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> NextMI = std::next(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (NextMI == MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordtype">unsigned</span> LoadReg = 0;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">unsigned</span> StoreReg = 0;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">if</span> (!(LoadReg = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;<a class="code" href="classllvm_1_1HexagonInstrInfo.html#a056634c12b2bdb40c3157b185435168e">isLoadFromStackSlot</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, FirstSS))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!(StoreReg = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;<a class="code" href="classllvm_1_1HexagonInstrInfo.html#a4bd37904ea58d6e38b1f60c051428fff">isStoreToStackSlot</a>(NextMI, SecondSS))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (FirstSS != SecondSS || LoadReg != StoreReg || FirstSS == -1) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    ++NumDead;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (NextMI-&gt;findRegisterUseOperandIdx(LoadReg, <span class="keyword">true</span>, <span class="keyword">nullptr</span>) != -1) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      ++NumDead;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      toErase.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    toErase.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(NextMI);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;MachineInstr *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = toErase.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;       E = toErase.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    (*I)-&gt;eraseFromParent();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">return</span> changed;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="keywordtype">bool</span> StackSlotColoring::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>({</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;********** Stack Slot Coloring **********\n&quot;</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;********** Function: &quot;</span> &lt;&lt; MF.<a class="code" href="classllvm_1_1MachineFunction.html#ae215c5c2aecd18c4e68a94187d9cdbf1">getName</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    });</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a03d1ce9278523503ad038c6ab9c96ccb">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ab51af7a89499bd584c1a117aeb017b68">getInstrInfo</a>();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a> = &amp;getAnalysis&lt;LiveStacks&gt;();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  MBFI = &amp;getAnalysis&lt;MachineBlockFrequencyInfo&gt;();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordtype">unsigned</span> NumSlots = <a class="code" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">LS</a>-&gt;getNumIntervals();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (NumSlots == 0)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// Nothing to do!</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// If there are calls to setjmp or sigsetjmp, don&#39;t perform stack slot</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// coloring. The stack could be modified before the longjmp is executed,</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// resulting in the wrong value being used afterwards. (See</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// &lt;rdar://problem/8007500&gt;.)</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#a7c5bc8954fa8f0d0374ac725a0cddb63">exposesReturnsTwice</a>())</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// Gather spill slot references</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  ScanForSpillSlotRefs(MF);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  InitializeSlots();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  Changed = ColorSlots(MF);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  NextColor = -1;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  SSIntervals.clear();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = SSRefs.size(); i != e; ++i)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    SSRefs[i].clear();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  SSRefs.clear();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  OrigAlignments.clear();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  OrigSizes.clear();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  AllColors.clear();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  UsedColors.clear();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Assignments.size(); i != e; ++i)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    Assignments[i].clear();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  Assignments.clear();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00113">SmallVector.h:113</a></div></div>
<div class="ttc" id="TargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00126">SmallVector.h:126</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00221">SmallVector.h:221</a></div></div>
<div class="ttc" id="MachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00031">PassRegistry.cpp:31</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a4ec9ddf8db4481c798f557e8af82693f"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">llvm::LiveInterval::reg</a></div><div class="ttdeci">const unsigned reg</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00603">LiveInterval.h:603</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a9d017af749f76484cb9aec9ff6e4330c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">llvm::MachineFunction::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00328">MachineFunction.h:328</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00086">MachineFunction.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab0789854909cf47f640a85fa2bac29c7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">llvm::MachineFunction::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00326">MachineFunction.h:326</a></div></div>
<div class="ttc" id="namespacellvm_html_a5a36a0d02a1629e4c1c8c6c587d01e5b"><div class="ttname"><a href="namespacellvm.html#a5a36a0d02a1629e4c1c8c6c587d01e5b">llvm::MachineDominatorsID</a></div><div class="ttdeci">char &amp; MachineDominatorsID</div><div class="ttdoc">MachineDominators - This pass is a machine dominators analysis pass. </div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html"><div class="ttname"><a href="classllvm_1_1LiveInterval.html">llvm::LiveInterval</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00575">LiveInterval.h:575</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00029">MachineBlockFrequencyInfo.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00243">MachineBasicBlock.h:243</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00107">CommandLine.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a419e521c9378d4d7b86fa6f2d8e440f8"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a419e521c9378d4d7b86fa6f2d8e440f8">llvm::TargetRegisterInfo::stackSlot2Index</a></div><div class="ttdeci">static int stackSlot2Index(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00270">TargetRegisterInfo.h:270</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00091">MachineMemOperand.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1HexagonInstrInfo_html_a056634c12b2bdb40c3157b185435168e"><div class="ttname"><a href="classllvm_1_1HexagonInstrInfo.html#a056634c12b2bdb40c3157b185435168e">llvm::HexagonInstrInfo::isLoadFromStackSlot</a></div><div class="ttdeci">unsigned isLoadFromStackSlot(const MachineInstr *MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="HexagonInstrInfo_8cpp_source.html#l00075">HexagonInstrInfo.cpp:75</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a03d1ce9278523503ad038c6ab9c96ccb"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a03d1ce9278523503ad038c6ab9c96ccb">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00176">MachineFunction.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00032">MachineFunctionPass.h:32</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00114">HexagonCopyToCombine.cpp:114</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00075">PassSupport.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; int &gt;</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="BitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aebc99c3c37896879abad49e7254a2fb8"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aebc99c3c37896879abad49e7254a2fb8">llvm::MachineOperand::setIndex</a></div><div class="ttdeci">void setIndex(int Idx)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00521">MachineOperand.h:521</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1PseudoSourceValue_html_a6e173b7f891039e729a953bfa7146908"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html#a6e173b7f891039e729a953bfa7146908">llvm::PseudoSourceValue::getFixedStack</a></div><div class="ttdeci">static const PseudoSourceValue * getFixedStack(int FI)</div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8cpp_source.html#l00069">PseudoSourceValue.cpp:69</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00284">MachineInstr.h:284</a></div></div>
<div class="ttc" id="PseudoSourceValue_8h_html"><div class="ttname"><a href="PseudoSourceValue_8h.html">PseudoSourceValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1SlotIndexes_html"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html">llvm::SlotIndexes</a></div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00334">SlotIndexes.h:334</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab0d5ec413fa43a1e470dafb6cafda9b5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const </div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00237">MachineOperand.h:237</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a947df27369e5b0e5d44b3109f1cc592d"><div class="ttname"><a href="namespacellvm.html#a947df27369e5b0e5d44b3109f1cc592d">llvm::StackSlotColoringID</a></div><div class="ttdeci">char &amp; StackSlotColoringID</div><div class="ttdoc">StackSlotColoring - This pass performs stack slot coloring. </div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00117">StackSlotColoring.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00027">BitVector.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_a40970e5d42646fb2d9aa5f7a2c879516"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a40970e5d42646fb2d9aa5f7a2c879516">llvm::AnalysisUsage::addPreservedID</a></div><div class="ttdeci">AnalysisUsage &amp; addPreservedID(const void *ID)</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00068">PassAnalysisSupport.h:68</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a67e31fa58a9a1add0665114c00b3020d"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a67e31fa58a9a1add0665114c00b3020d">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumEliminated,&quot;Number of stack slots eliminated due to coloring&quot;)</div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00052">TargetInstrInfo.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1e1d26226c627cf3dcf3c191b85e7d7d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">llvm::MachineInstr::isDebugValue</a></div><div class="ttdeci">bool isDebugValue() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00752">MachineInstr.h:752</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8d6268ac5d00f510ade10bd1865d9829"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">llvm::MachineInstr::memoperands_end</a></div><div class="ttdeci">mmo_iterator memoperands_end() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00350">MachineInstr.h:350</a></div></div>
<div class="ttc" id="MachineBlockFrequencyInfo_8h_html"><div class="ttname"><a href="MachineBlockFrequencyInfo_8h.html">MachineBlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a0771fa33eec586aafe64347be2a7a7a7"><div class="ttname"><a href="namespacellvm.html#a0771fa33eec586aafe64347be2a7a7a7">llvm::initializeStackSlotColoringPass</a></div><div class="ttdeci">void initializeStackSlotColoringPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="GlobalMerge_8cpp_html_a65c1240c404c646dd0e63fdcbf620730"><div class="ttname"><a href="GlobalMerge_8cpp.html#a65c1240c404c646dd0e63fdcbf620730">assert</a></div><div class="ttdeci">assert(Globals.size() &gt; 1)</div></div>
<div class="ttc" id="namespacellvm_html_a03503773241005f01b090b9862aad304"><div class="ttname"><a href="namespacellvm.html#a03503773241005f01b090b9862aad304">llvm::dump</a></div><div class="ttdeci">void dump(const SparseBitVector&lt; ElementSize &gt; &amp;LHS, raw_ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00883">SparseBitVector.h:883</a></div></div>
<div class="ttc" id="ForwardControlFlowIntegrity_8cpp_html_aa6d14665c3f65bf28901537cc0fc8d71"><div class="ttname"><a href="ForwardControlFlowIntegrity_8cpp.html#aa6d14665c3f65bf28901537cc0fc8d71">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(JumpInstrTables)</div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00044">MachineFunctionPass.cpp:44</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00286">MachineInstr.h:286</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00289">CommandLine.h:289</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28afdd8238d6005774fe2bb9067de76eb8c">llvm::AArch64CC::LS</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00202">AArch64BaseInfo.h:202</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a1c66e3abaf79bdc69ccaca019f60350a"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a1c66e3abaf79bdc69ccaca019f60350a">DCELimit</a></div><div class="ttdeci">static cl::opt&lt; int &gt; DCELimit(&quot;ssc-dce-limit&quot;, cl::init(-1), cl::Hidden)</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_a1ee341130300e56248229610462773ae"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a1ee341130300e56248229610462773ae">llvm::LiveRange::overlaps</a></div><div class="ttdeci">bool overlaps(const LiveRange &amp;other) const </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00408">LiveInterval.h:408</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a6c36aa282acc2209669d0206e72f199a"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a6c36aa282acc2209669d0206e72f199a">llvm::LiveIntervals::getSpillWeight</a></div><div class="ttdeci">static float getSpillWeight(bool isDef, bool isUse, const MachineBlockFrequencyInfo *MBFI, const MachineInstr *Instr)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8cpp_source.html#l00797">LiveIntervalAnalysis.cpp:797</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a66d7167a2705926cfceaa501dc2c9cbe"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a66d7167a2705926cfceaa501dc2c9cbe">llvm::MachineMemOperand::getPseudoValue</a></div><div class="ttdeci">const PseudoSourceValue * getPseudoValue() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00136">MachineMemOperand.h:136</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a2e21fef40f1c69118c9aaef581e16b61"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a2e21fef40f1c69118c9aaef581e16b61">false</a></div><div class="ttdeci">stack slot Stack Slot false</div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00124">StackSlotColoring.cpp:124</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a7cb6c9ef40b7186fe948fc42672b6620"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a7cb6c9ef40b7186fe948fc42672b6620">DisableSharing</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableSharing(&quot;no-stack-slot-sharing&quot;, cl::init(false), cl::Hidden, cl::desc(&quot;Suppress slot sharing during stack coloring&quot;))</div></div>
<div class="ttc" id="classllvm_1_1LiveStacks_html"><div class="ttname"><a href="classllvm_1_1LiveStacks.html">llvm::LiveStacks</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveStackAnalysis_8h_source.html#l00027">LiveStackAnalysis.h:27</a></div></div>
<div class="ttc" id="ARMAsmParser_8cpp_html_afa41b5544267a2f619f358964a81c0e9"><div class="ttname"><a href="ARMAsmParser_8cpp.html#afa41b5544267a2f619f358964a81c0e9">ID</a></div><div class="ttdeci">const unsigned ID</div><div class="ttdef"><b>Definition:</b> <a href="ARMAsmParser_8cpp_source.html#l09194">ARMAsmParser.cpp:9194</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a99eec2c4ba894baca5b197e940b095f6"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">llvm::LiveInterval::weight</a></div><div class="ttdeci">float weight</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00604">LiveInterval.h:604</a></div></div>
<div class="ttc" id="LiveIntervalAnalysis_8h_html"><div class="ttname"><a href="LiveIntervalAnalysis_8h.html">LiveIntervalAnalysis.h</a></div></div>
<div class="ttc" id="AArch64A57FPLoadBalancing_8cpp_html_ab87bacfdad76e61b9412d7124be44c1c"><div class="ttname"><a href="AArch64A57FPLoadBalancing_8cpp.html#ab87bacfdad76e61b9412d7124be44c1c">Color</a></div><div class="ttdeci">Color</div><div class="ttdef"><b>Definition:</b> <a href="AArch64A57FPLoadBalancing_8cpp_source.html#l00104">AArch64A57FPLoadBalancing.cpp:104</a></div></div>
<div class="ttc" id="structfalse_1_1IntervalSorter_html_a3a52b772e4e852d9bc322d4af0043a8d"><div class="ttname"><a href="structfalse_1_1IntervalSorter.html#a3a52b772e4e852d9bc322d4af0043a8d">false::IntervalSorter::operator()</a></div><div class="ttdeci">bool operator()(LiveInterval *LHS, LiveInterval *RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00131">StackSlotColoring.cpp:131</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00882">SmallVector.h:882</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="LiveStackAnalysis_8h_html"><div class="ttname"><a href="LiveStackAnalysis_8h.html">LiveStackAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00188">MachineFunction.h:188</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00263">Pass.cpp:263</a></div></div>
<div class="ttc" id="AArch64ISelLowering_8cpp_html_a36d3f1f9ae335b43c09bf8805c25e192"><div class="ttname"><a href="AArch64ISelLowering_8cpp.html#a36d3f1f9ae335b43c09bf8805c25e192">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(NoStrictAlign), cl::values(clEnumValN(StrictAlign,&quot;aarch64-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;aarch64-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00113">Debug.cpp:113</a></div></div>
<div class="ttc" id="classllvm_1_1PseudoSourceValue_html"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html">llvm::PseudoSourceValue</a></div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00030">PseudoSourceValue.h:30</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a2f63b9b768c72478d35a5dfaa6d0eb0f"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a2f63b9b768c72478d35a5dfaa6d0eb0f">coloring</a></div><div class="ttdeci">stack slot coloring</div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00124">StackSlotColoring.cpp:124</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00111">SmallVector.h:111</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00051">MachineInstr.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01128">CommandLine.h:1128</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ac9485ae7d6fedd71ad4460f72c799c98"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00427">MachineOperand.h:427</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a2ffaaa69db2b5b967be23bc0a7013c3d"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a2ffaaa69db2b5b967be23bc0a7013c3d">Coloring</a></div><div class="ttdeci">stack slot Stack Slot Coloring</div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00124">StackSlotColoring.cpp:124</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a7c5bc8954fa8f0d0374ac725a0cddb63"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a7c5bc8954fa8f0d0374ac725a0cddb63">llvm::MachineFunction::exposesReturnsTwice</a></div><div class="ttdeci">bool exposesReturnsTwice() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00225">MachineFunction.h:225</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28a913fd2deccaf3e27694eefb90ffeee00">llvm::AArch64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00197">AArch64BaseInfo.h:197</a></div></div>
<div class="ttc" id="classllvm_1_1HexagonInstrInfo_html_a4bd37904ea58d6e38b1f60c051428fff"><div class="ttname"><a href="classllvm_1_1HexagonInstrInfo.html#a4bd37904ea58d6e38b1f60c051428fff">llvm::HexagonInstrInfo::isStoreToStackSlot</a></div><div class="ttdeci">unsigned isStoreToStackSlot(const MachineInstr *MI, int &amp;FrameIndex) const override</div><div class="ttdef"><b>Definition:</b> <a href="HexagonInstrInfo_8cpp_source.html#l00102">HexagonInstrInfo.cpp:102</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="StackSlotColoring_8cpp_html_a5bb62a0dcbcb6bf965c89b53388f2781"><div class="ttname"><a href="StackSlotColoring_8cpp.html#a5bb62a0dcbcb6bf965c89b53388f2781">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(StackSlotColoring,&quot;stack-slot-coloring&quot;,&quot;Stack Slot Coloring&quot;, false, false) INITIALIZE_PASS_END(StackSlotColoring</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00241">MachineBasicBlock.h:241</a></div></div>
<div class="ttc" id="structfalse_1_1IntervalSorter_html"><div class="ttname"><a href="structfalse_1_1IntervalSorter.html">false::IntervalSorter</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00130">StackSlotColoring.cpp:130</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html_ab51af7a89499bd584c1a117aeb017b68"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ab51af7a89499bd584c1a117aeb017b68">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00066">TargetSubtargetInfo.h:66</a></div></div>
<div class="ttc" id="SmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a340712de3e78fec11c338735cab17df7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">llvm::MachineFunction::iterator</a></div><div class="ttdeci">BasicBlockListType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00314">MachineFunction.h:314</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00093">Debug.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1FixedStackPseudoSourceValue_html"><div class="ttname"><a href="classllvm_1_1FixedStackPseudoSourceValue.html">llvm::FixedStackPseudoSourceValue</a></div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00086">PseudoSourceValue.h:86</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1LiveStacks_html_a42a122c825a90b3f8bdd0bb3201a52d9"><div class="ttname"><a href="classllvm_1_1LiveStacks.html#a42a122c825a90b3f8bdd0bb3201a52d9">llvm::LiveStacks::iterator</a></div><div class="ttdeci">SS2IntervalMap::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="LiveStackAnalysis_8h_source.html#l00048">LiveStackAnalysis.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ae215c5c2aecd18c4e68a94187d9cdbf1"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ae215c5c2aecd18c4e68a94187d9cdbf1">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00332">MachineFunction.cpp:332</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00073">MachineLoopInfo.h:73</a></div></div>
<div class="ttc" id="CodeGen_2Passes_8h_html"><div class="ttname"><a href="CodeGen_2Passes_8h.html">Passes.h</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a0a9d6d4967ece0926c9274409adea1b1"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a0a9d6d4967ece0926c9274409adea1b1">llvm::LiveInterval::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00884">LiveInterval.cpp:884</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abb87c1c9d9046e29211e9875e27ceef9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const </div><div class="ttdoc">Access to memory operands of the instruction. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00349">MachineInstr.h:349</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr>
<p class="footer">
Generated on Tue Dec 8 2015 00:57:04 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.6</a><br>
Copyright &copy; 2003-2014 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
