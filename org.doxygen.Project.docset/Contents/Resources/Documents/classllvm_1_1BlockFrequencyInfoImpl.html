<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: llvm::BlockFrequencyInfoImpl&lt; BlockT &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.6 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classllvm_1_1BlockFrequencyInfoImpl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llvm::BlockFrequencyInfoImpl&lt; BlockT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Shared implementation for block frequency analysis.  
 <a href="classllvm_1_1BlockFrequencyInfoImpl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BlockFrequencyInfo_8h_source.html">BlockFrequencyInfo.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classllvm_1_1BlockFrequencyInfoImpl__inherit__graph.png" border="0" usemap="#llvm_1_1BlockFrequencyInfoImpl_3_01BlockT_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="llvm_1_1BlockFrequencyInfoImpl_3_01BlockT_01_4_inherit__map" id="llvm_1_1BlockFrequencyInfoImpl_3_01BlockT_01_4_inherit__map">
<area shape="rect" id="node3" href="classllvm_1_1BlockFrequencyInfoImpl.html" title="llvm::BlockFrequencyInfo\lImpl\&lt; BT \&gt;" alt="" coords="5,200,184,241"/><area shape="rect" id="node2" href="classllvm_1_1BlockFrequencyInfoImplBase.html" title="Base class for BlockFrequencyInfoImpl. " alt="" coords="5,5,184,47"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classllvm_1_1BlockFrequencyInfoImpl__coll__graph.png" border="0" usemap="#llvm_1_1BlockFrequencyInfoImpl_3_01BlockT_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="llvm_1_1BlockFrequencyInfoImpl_3_01BlockT_01_4_coll__map" id="llvm_1_1BlockFrequencyInfoImpl_3_01BlockT_01_4_coll__map">
<area shape="rect" id="node2" href="classllvm_1_1BlockFrequencyInfoImplBase.html" title="Base class for BlockFrequencyInfoImpl. " alt="" coords="329,71,508,112"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afea78107bcd0a88f9af1a4ca7c6c241c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> FunctionT *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#afea78107bcd0a88f9af1a4ca7c6c241c">getFunction</a> () <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> </td></tr>
<tr class="separator:afea78107bcd0a88f9af1a4ca7c6c241c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c8d8fd76a5942f15c006233b3d9812"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad3c8d8fd76a5942f15c006233b3d9812">doFunction</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> FunctionT *F, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BranchProbabilityInfoT *BPI, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> LoopInfoT *LI)</td></tr>
<tr class="separator:ad3c8d8fd76a5942f15c006233b3d9812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6509249da94f9dc32084fc6a875a8175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#a6509249da94f9dc32084fc6a875a8175">BlockFrequencyInfoImpl</a> ()</td></tr>
<tr class="separator:a6509249da94f9dc32084fc6a875a8175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17bb2f407d7ce2aa1c473e2e5c13c15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#ab17bb2f407d7ce2aa1c473e2e5c13c15">getBlockFreq</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BlockT *BB) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> </td></tr>
<tr class="separator:ab17bb2f407d7ce2aa1c473e2e5c13c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbf8247453d48812517581c0b1a4180"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#a1cbf8247453d48812517581c0b1a4180">getFloatingBlockFreq</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BlockT *BB) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> </td></tr>
<tr class="separator:a1cbf8247453d48812517581c0b1a4180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05ed8871c23e9c87114b754bc6098ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad05ed8871c23e9c87114b754bc6098ab">print</a> (<a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> override</td></tr>
<tr class="memdesc:ad05ed8871c23e9c87114b754bc6098ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the frequencies for the current function.  <a href="#ad05ed8871c23e9c87114b754bc6098ab">More...</a><br/></td></tr>
<tr class="separator:ad05ed8871c23e9c87114b754bc6098ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f4d4b4cdbbb3817200b372b6fcabae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#af2f4d4b4cdbbb3817200b372b6fcabae">printBlockFreq</a> (<a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BlockT *BB) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> </td></tr>
<tr class="separator:af2f4d4b4cdbbb3817200b372b6fcabae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad948898612d08c1b750614d573ce2d92"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html#ad948898612d08c1b750614d573ce2d92">bfi_detail::BlockEdgesAdder&lt; BT &gt;</a></td></tr>
<tr class="separator:ad948898612d08c1b750614d573ce2d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class BlockT&gt;<br/>
class llvm::BlockFrequencyInfoImpl&lt; BlockT &gt;</h3>

<p>Shared implementation for block frequency analysis. </p>
<p>This is a shared implementation of <a class="el" href="classllvm_1_1BlockFrequencyInfo.html">BlockFrequencyInfo</a> and <a class="el" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>, and calculates the relative frequencies of blocks.</p>
<p><a class="el" href="classllvm_1_1LoopInfo.html">LoopInfo</a> defines a loop as a "non-trivial" SCC dominated by a single block, which is called the header. A given loop, L, can have sub-loops, which are loops within the subgraph of L that exclude its header. (A "trivial" SCC consists of a single block that does not have a self-edge.)</p>
<p>In addition to loops, this algorithm has limited support for irreducible SCCs, which are SCCs with multiple entry blocks. Irreducible SCCs are discovered on they fly, and modelled as loops with multiple headers.</p>
<p>The headers of irreducible sub-SCCs consist of its entry blocks and all nodes that are targets of a backedge within it (excluding backedges within true sub-loops). Block frequency calculations act as if a block is inserted that intercepts all the edges to the headers. All backedges and entries point to this block. Its successors are the headers, which split the frequency evenly.</p>
<p>This algorithm leverages BlockMass and <a class="el" href="classllvm_1_1ScaledNumber.html" title="Simple representation of a scaled number. ">ScaledNumber</a> to maintain precision, separates mass distribution from loop scaling, and dithers to eliminate probability mass loss.</p>
<p>The implementation is split between <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html" title="Shared implementation for block frequency analysis. ">BlockFrequencyInfoImpl</a>, which knows the type of graph being modelled (<a class="el" href="classllvm_1_1BasicBlock.html" title="LLVM Basic Block Representation. ">BasicBlock</a> vs. <a class="el" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>), and <a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html" title="Base class for BlockFrequencyInfoImpl. ">BlockFrequencyInfoImplBase</a>, which doesn't. The base class uses <em>BlockNode</em>, a wrapper around a uint32_t. BlockNode is numbered from 0 in reverse-post order. This gives two advantages: it's easy to compare the relative ordering of two nodes, and maps keyed on BlockT can be represented by vectors.</p>
<p>This algorithm is O(V+E), unless there is irreducible control flow, in which case it's O(V*E) in the worst case.</p>
<p>These are the main stages:</p>
<p>0. Reverse post-order traversal (<em>initializeRPOT()</em>).</p>
<p>Run a single post-order traversal and save it (in reverse) in RPOT. All other stages make use of this ordering. Save a lookup from BlockT to BlockNode (the index into RPOT) in Nodes.</p>
<ol type="1">
<li><p class="startli"><a class="el" href="classllvm_1_1Loop.html">Loop</a> initialization (<em>initializeLoops()</em>).</p>
<p class="startli">Translate LoopInfo/MachineLoopInfo into a form suitable for the rest of the algorithm. In particular, store the immediate members of each loop in reverse post-order.</p>
</li>
<li><p class="startli">Calculate mass and scale in loops (<em>computeMassInLoops()</em>).</p>
<p class="startli">For each loop (bottom-up), distribute mass through the DAG resulting from ignoring backedges and treating sub-loops as a single pseudo-node. Track the backedge mass distributed to the loop header, and use it to calculate the loop scale (number of loop iterations). Immediate members that represent sub-loops will already have been visited and packaged into a pseudo-node.</p>
<p class="startli">Distributing mass in a loop is a reverse-post-order traversal through the loop. Start by assigning full mass to the <a class="el" href="classllvm_1_1Loop.html">Loop</a> header. For each node in the loop: </p>
<pre class="fragment">- Fetch and categorize the weight distribution for its successors.
  If this is a packaged-subloop, the weight distribution is stored
  in \a LoopData::Exits.  Otherwise, fetch it from
  BranchProbabilityInfo.

- Each successor is categorized as \a Weight::Local, a local edge
  within the current loop, \a Weight::Backedge, a backedge to the
  loop header, or \a Weight::Exit, any successor outside the loop.
  The weight, the successor, and its category are stored in \a
  Distribution.  There can be multiple edges to each successor.

- If there's a backedge to a non-header, there's an irreducible SCC.
  The usual flow is temporarily aborted.  \a
  computeIrreducibleMass() finds the irreducible SCCs within the
  loop, packages them up, and restarts the flow.

- Normalize the distribution:  scale weights down so that their sum
  is 32-bits, and coalesce multiple edges to the same node.

- Distribute the mass accordingly, dithering to minimize mass loss,
  as described in \a distributeMass().
</pre><p class="startli">Finally, calculate the loop scale from the accumulated backedge mass.</p>
</li>
<li><p class="startli">Distribute mass in the function (<em>computeMassInFunction()</em>).</p>
<p class="startli">Finally, distribute mass through the DAG resulting from packaging all loops in the function. This uses the same algorithm as distributing mass in a loop, except that there are no exit or backedge edges.</p>
</li>
<li><p class="startli">Unpackage loops (<em><a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9" title="Unwrap loops. ">unwrapLoops()</a></em>).</p>
<p class="startli">Initialize each block's frequency to a floating point representation of its mass.</p>
<p class="startli">Visit loops top-down, scaling the frequencies of its immediate members by the loop's pseudo-node's frequency.</p>
</li>
<li><p class="startli">Convert frequencies to a 64-bit range (<em><a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b" title="Finalize frequency metrics. ">finalizeMetrics()</a></em>).</p>
<p class="startli">Using the min and max frequencies as a guide, translate floating point frequencies to an appropriate range in uint64_t.</p>
</li>
</ol>
<p>It has some known flaws.</p>
<ul>
<li><a class="el" href="classllvm_1_1Loop.html">Loop</a> scale is limited to 4096 per loop (2^12) to avoid exhausting <a class="el" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a>'s 64-bit integer precision.</li>
<li><p class="startli">The model of irreducible control flow is a rough approximation.</p>
<p class="startli">Modelling irreducible control flow exactly involves setting up and solving a group of infinite geometric series. Such precision is unlikely to be worthwhile, since most of our algorithms give up on irreducible control flow anyway.</p>
<p class="startli">Nevertheless, we might find that we need to get closer. Here's a sort of TODO list for the model with diminishing returns, to be completed as necessary.</p>
<ul>
<li>The headers for the <em>LoopData</em> representing an irreducible SCC include non-entry blocks. When these extra blocks exist, they indicate a self-contained irreducible sub-SCC. We could treat them as sub-loops, rather than arbitrarily shoving the problematic blocks into the headers of the main irreducible SCC.</li>
<li>Backedge frequencies are assumed to be evenly split between the headers of a given irreducible SCC. Instead, we could track the backedge mass separately for each header, and adjust their relative frequencies.</li>
<li>Entry frequencies are assumed to be evenly split between the headers of a given irreducible SCC, which is the only option if we need to compute mass in the SCC before its parent loop. Instead, we could partially compute mass in the parent loop, and stop when we get to the SCC. Here, we have the correct ratio of entry masses, which we can use to adjust their relative frequencies. Compute mass in the SCC, and then continue propagation in the parent.</li>
<li>We can propagate mass iteratively through the SCC, for some fixed number of iterations. Each iteration starts by assigning the entry blocks their backedge mass from the prior iteration. The final mass for each block (and each exit, and the total backedge mass used for computing loop scale) is the sum of all iterations. (Running this until fixed point would "solve" the geometric series by simulation.) </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="BlockFrequencyInfo_8h_source.html#l00024">24</a> of file <a class="el" href="BlockFrequencyInfo_8h_source.html">BlockFrequencyInfo.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6509249da94f9dc32084fc6a875a8175"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BlockT &gt;::<a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">BlockFrequencyInfoImpl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00886">886</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad3c8d8fd76a5942f15c006233b3d9812"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::doFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> FunctionT *&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BranchProbabilityInfoT *&#160;</td>
          <td class="paramname"><em>BPI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> LoopInfoT *&#160;</td>
          <td class="paramname"><em>LI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00917">917</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

<p>References <a class="el" href="Debug_8cpp_source.html#l00113">llvm::dbgs()</a>, <a class="el" href="Debug_8h_source.html#l00093">DEBUG</a>, <a class="el" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F()</a>, and <a class="el" href="LoopInfoImpl_8h_source.html#l00412">LI</a>.</p>

</div>
</div>
<a class="anchor" id="ab17bb2f407d7ce2aa1c473e2e5c13c15"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BlockT &gt;::getBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BlockT *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00889">889</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1cbf8247453d48812517581c0b1a4180"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a2f26fcabd49eaca3cc1aa86d2afed7dc">Scaled64</a> <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BlockT &gt;::getFloatingBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BlockT *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00892">892</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="afea78107bcd0a88f9af1a4ca7c6c241c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> FunctionT* <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BlockT &gt;::getFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00882">882</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad05ed8871c23e9c87114b754bc6098ab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp; <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BT &gt;::print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the frequencies for the current function. </p>
<p>Prints the frequencies for the blocks in the current function.</p>
<p>Blocks are printed in the natural iteration order of the function, rather than reverse post-order. This provides two advantages: writing -analyze tests is easier (since blocks come out in source order), and even unreachable blocks are printed.</p>
<p><em><a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a26944c1a841003057a047e105d421ab9">BlockFrequencyInfoImplBase::print()</a></em> only knows reverse post-order, so we need to override it here. </p>

<p>Reimplemented from <a class="el" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a26944c1a841003057a047e105d421ab9">llvm::BlockFrequencyInfoImplBase</a>.</p>

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l01163">1163</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

<p>References <a class="el" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F()</a>, and <a class="el" href="MachineBlockPlacement_8cpp_source.html#l00267">getBlockName()</a>.</p>

</div>
</div>
<a class="anchor" id="af2f4d4b4cdbbb3817200b372b6fcabae"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a>&amp; <a class="el" href="classllvm_1_1BlockFrequencyInfoImpl.html">llvm::BlockFrequencyInfoImpl</a>&lt; BlockT &gt;::printBlockFreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> BlockT *&#160;</td>
          <td class="paramname"><em>BB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00911">911</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="ad948898612d08c1b750614d573ce2d92"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structllvm_1_1bfi__detail_1_1BlockEdgesAdder.html">bfi_detail::BlockEdgesAdder</a>&lt; BT &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BlockFrequencyInfoImpl_8h_source.html#l00771">771</a> of file <a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BlockFrequencyInfo_8h_source.html">BlockFrequencyInfo.h</a></li>
<li><a class="el" href="BlockFrequencyInfoImpl_8h_source.html">BlockFrequencyInfoImpl.h</a></li>
</ul>
</div><!-- contents -->
<hr>
<p class="footer">
Generated on Tue Dec 8 2015 01:02:28 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.6</a><br>
Copyright &copy; 2003-2014 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
